# Search

## Installation
`npm i @snack-uikit/search`

[Changelog](./CHANGELOG.md)

## Description

- Пакет `@snack-uikit/search` предоставляет компонент `Search` для реализации поисковых полей в интерфейсе.
- Компонент поддерживает два режима работы: **Autocomplete** (с выпадающим списком подсказок) и **FieldText** (простое текстовое поле без подсказок).
- В режиме Autocomplete (`autocomplete={true}`) компонент отображает выпадающий список с опциями (`options`), которые можно выбрать кликом или нажатием клавиш Space/Enter, при этом вызывается колбек `onSubmit`.
- В режиме FieldText (`autocomplete={false}` или `undefined`) компонент работает как обычное текстовое поле с возможностью подтверждения поиска по Enter.
- Поддерживает состояния загрузки (`loading`), различные размеры (`size: 's' | 'm' | 'l'`), внешний бордер (`outline`) и произвольный постфикс (`postfix`) для дополнительных элементов управления.
- Компонент управляется через пропы `value` и `onChange`, поддерживает обработчики фокуса (`onFocus`, `onBlur`) и подтверждения поиска (`onSubmit`).
- Figma: [`Search`](https://www.figma.com/file/jtGxAPvFJOMir7V0eQFukN/Snack-UI-Kit-1.1.0?node-id=41%3A143287&mode=design).

## TODO

- Fix keypress handler for autocomplete mod when focusing on dropdown list items

## Example

```tsx
import { useState } from 'react';
import { Search } from '@snack-uikit/search';

function Example() {
  const [value, setValue] = useState('');
  const [loading, setLoading] = useState(false);
  const [options, setOptions] = useState([]);

  const handleSearchChange = (newValue: string) => {
    setValue(newValue);
    // Логика поиска и обновления options
  };

  const handleSubmit = (searchValue: string) => {
    // Логика подтверждения поиска
  };

  return (
    <Search
      value={value}
      onChange={handleSearchChange}
      loading={loading}
      options={options}
      onSubmit={handleSubmit}
      size="s"
      autocomplete
      placeholder="Поиск..."
    />
  );
}
```

[//]: DOCUMENTATION_SECTION_START
[//]: THIS_SECTION_IS_AUTOGENERATED_PLEASE_DONT_EDIT_IT
## Search
### Props
| name | type | default value | description |
|------|------|---------------|-------------|
| value | `string` | - | Значение input |
| onChange | `(value: string, e?: ChangeEvent<HTMLInputElement>) => void` | - | Колбек смены значения |
| placeholder | `string` | - | Значение плейсхолдера |
| onFocus | `FocusEventHandler<HTMLInputElement>` | - | Колбек обработки получения фокуса |
| onBlur | `FocusEventHandler<HTMLInputElement>` | - | Колбек обработки потери фокуса |
| className | `string` | - | CSS-класс |
| tabIndex | `number` | - |  |
| size | enum Size: `"s"`, `"m"`, `"l"` | - | Размер |
| loading | `boolean` | - | Состояние загрузки |
| onSubmit | `(value: string) => void` | - | Колбек на подтверждение поиска по строке |
| outline | `boolean` | - | Внешний бордер |
| postfix | `ReactNode` | - | Произвольный постфикс для поля |
| options | `BaseItem[]` | - | Элементы выпадающие в Droplist в режиме Autocomplete.  На нажатие 'Space', 'Enter' или клике по элементу будет вызываться onSubmit. В режиме FieldText options отсутствуют |
| autocomplete | `boolean` | - | Работа в режиме Autocomplete в значении true  Работа в режиме FieldText в значении false \| undefined |
| ref | `LegacyRef<HTMLInputElement>` | - | Allows getting a ref to the component instance. Once the component unmounts, React will set `ref.current` to `null` (or call the ref with `null` if you passed a callback ref). @see {@link https://react.dev/learn/referencing-values-with-refs#refs-and-the-dom React Docs} |
| key | `Key` | - |  |


[//]: DOCUMENTATION_SECTION_END
