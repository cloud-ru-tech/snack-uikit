# Attachment

## Installation

`npm i @snack-uikit/attachment`

[Changelog](./CHANGELOG.md)

## Description

- Компоненты для отображения файловых вложений в виде карточек: показывают название файла, расширение/тип, состояние (загрузка, ошибка, выбран), а также действия (скачивание, удаление, повтор).
- Автоматически подставляют заголовок и описание на основе имени файла и его расширения, но позволяют их переопределить.
- Поддерживают управление состояниями `loading`, `disabled`, `checked`, варианты обрезки длинных строк и единый внешний вид через `Card` из библиотеки.

## Attachment

### Description

- Отображает вложение в виде горизонтальной карточки с эмблемой файла/превью, текстовым блоком (заголовок, описание, сообщение об ошибке) и набором действий.
- Заголовок по умолчанию берётся из имени файла, описание — из его расширения; можно переопределить через пропсы `title` и `description`.
- Поддерживает состояния загрузки и ошибки, в зависимости от которых показываются действия: скачивание, удаление, повторная попытка.
- Позволяет управлять выбором карточки (`checked`) и интерактивностью (`disabled`), а также количеством строк для заголовка, описания и ошибки через проп `truncate`.
- Figma: [Attachment](https://www.figma.com/design/jtGxAPvFJOMir7V0eQFukN/branch/OSnyUq4zigaHiTkL1egWTB/Snack-UI-Kit-3.0.0?m=auto&node-id=6075%3A208643&t=B12jkbmMhhHAG3cv-1)

### Example

```tsx
import { Attachment } from '@snack-uikit/attachment';

function Example() {
  const file = new File([''], 'Document.pdf', { type: 'application/pdf' });

  return (
    <Attachment
      file={file}
      title="Отчёт за квартал"
      description="PDF, 2.4 MB"
      onDownload={() => console.log('download')}
      onDelete={() => console.log('delete')}
      onRetry={() => console.log('retry')}
      error=""
      size="m"
      checked
    />
  );
}
```

## AttachmentSquare

### Description

- Компактная квадратная карточка вложения, которая делает акцент на превью файла (например, изображение) и отображает детали по ховеру.
- Автоматически берёт заголовок и описание из имени файла и расширения, поддерживает состояния загрузки, ошибки, выбранности и недоступности.
- Основное содержимое (иконка/превью) и текстовая область с описанием и ошибкой разделены, что удобно для сеток превью (галереи).
- Figma: [AttachmentSquare](https://www.figma.com/design/jtGxAPvFJOMir7V0eQFukN/branch/OSnyUq4zigaHiTkL1egWTB/Snack-UI-Kit-3.0.0?m=auto&node-id=6075%3A208643&t=B12jkbmMhhHAG3cv-1)

### Example

```tsx
import { AttachmentSquare } from '@snack-uikit/attachment';

function Example() {
  const file = new File([''], 'Picture.jpg', { type: 'image/jpeg' });

  return (
    <AttachmentSquare
      file={file}
      title="Изображение для отчёта"
      description="JPG, 1.2 MB"
      onDownload={() => console.log('download')}
      onDelete={() => console.log('delete')}
      onRetry={() => console.log('retry')}
      size="s"
      checked
    />
  );
}
```

[//]: DOCUMENTATION_SECTION_START
[//]: THIS_SECTION_IS_AUTOGENERATED_PLEASE_DONT_EDIT_IT
## AttachmentSquare
### Props
| name | type | default value | description |
|------|------|---------------|-------------|
| file | `File` | - | Файл |
| onDownload | `(file?: File) => void` | - | Колбек на клик по кнопке скачивания |
| onDelete | `(file?: File) => void` | - | Колбек на клик по кнопке удаления |
| onRetry | `() => void` | - | Колбек на клик по кнопке повторения |
| title | `string` | fileName | Заголовок |
| description | `string` | fileExtension | Описание |
| error | `string` | - | Сообщение об ошибке |
| truncateVariant | "end" \| "middle" | - | Вариант обрезания строки: <br> - `End` - с конца; <br> - `Middle` - по середине |
| loading | `boolean` | - | Управление состоянием загрузки |
| icon | `JSXElementConstructor<{ size?: number; className?: string; }>` | - | Иконка для файла @defaultIcon FileSVG |
| size | enum Size: `"s"`, `"m"` | s | Размер |
| checked | `boolean` | - | Управление состоянием выбран/не выбран |
| disabled | `boolean` | - | Управление состоянием интерактивности |
| onClick | `(e: MouseEvent<HTMLDivElement \| HTMLAnchorElement, MouseEvent>) => void` | - | Колбек на клик по карточке |
| className | `string` | - | CSS-класс для элемента с контентом |
## Attachment
### Props
| name | type | default value | description |
|------|------|---------------|-------------|
| file | `File` | - | Файл |
| onDownload | `(file?: File) => void` | - | Колбек на клик по кнопке скачивания |
| onDelete | `(file?: File) => void` | - | Колбек на клик по кнопке удаления |
| onRetry | `() => void` | - | Колбек на клик по кнопке повторения |
| title | `string` | fileName | Заголовок |
| description | `string` | fileExtension | Описание |
| error | `string` | - | Сообщение об ошибке |
| truncateVariant | "end" \| "middle" | - | Вариант обрезания строки: <br> - `End` - с конца; <br> - `Middle` - по середине |
| loading | `boolean` | - | Управление состоянием загрузки |
| icon | `JSXElementConstructor<{ size?: number; className?: string; }>` | - | Иконка для файла @defaultIcon FileSVG |
| size | enum Size: `"s"`, `"m"` | s | Размер |
| checked | `boolean` | - | Управление состоянием выбран/не выбран |
| disabled | `boolean` | - | Управление состоянием интерактивности |
| onClick | `(e: MouseEvent<HTMLDivElement \| HTMLAnchorElement, MouseEvent>) => void` | - | Колбек на клик по карточке |
| className | `string` | - | CSS-класс для элемента с контентом |
| truncate | `{ title?: number; description?: number; error?: number; }` | - |  |


[//]: DOCUMENTATION_SECTION_END
