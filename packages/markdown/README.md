# Markdown

## Installation
`npm i @snack-uikit/markdown`

[Changelog](./CHANGELOG.md)

## Description

- Пакет `@snack-uikit/markdown` предоставляет компоненты для работы с Markdown-разметкой: отображение отформатированного текста и редактирование с предпросмотром.
- Компоненты поддерживают стандартный синтаксис Markdown (заголовки, списки, таблицы, код, ссылки и др.) через библиотеку `react-markdown` с плагином `remark-gfm` для расширенной поддержки GitHub Flavored Markdown.
- Оба компонента позволяют переопределять стандартные компоненты рендеринга через проп `components` для кастомизации внешнего вида элементов разметки.
- Поддерживается копирование кода из блоков с кодом через встроенные кнопки копирования.

## Markdown

### Description

- `Markdown` — компонент для отображения текста с Markdown-разметкой в виде отформатированного HTML.
- Используется для **статического отображения** уже готового контента с разметкой (например, документации, описаний, комментариев).
- Поддерживает **стандартные элементы Markdown**: заголовки, списки, таблицы, блоки кода, цитаты, разделители и ссылки.
- Позволяет **копировать код** из блоков кода через встроенную кнопку копирования с кастомным обработчиком (`onCopyClick`).
- Поддерживает **переопределение компонентов рендеринга** через проп `components` для кастомизации отдельных элементов (например, стилизация таблиц, ссылок, блоков кода).
- Figma: [`Markdown`](https://www.figma.com/design/jtGxAPvFJOMir7V0eQFukN/Snack-UI-Kit-5.0.0?node-id=1444-818).

### Example

```tsx
import { Markdown } from '@snack-uikit/markdown';
import { toaster } from '@snack-uikit/toaster';

function Example() {
  const markdownText = `
# Заголовок 1

## Заголовок 2

- Элемент списка 1
- Элемент списка 2

\`\`\`javascript
const code = 'example';
\`\`\`
  `;

  return (
    <Markdown
      value={markdownText}
      onCopyClick={() => toaster.userAction.success({ label: 'Скопировано' })}
    />
  );
}
```

## MarkdownEditor

### Description

- `MarkdownEditor` — компонент для редактирования текста с Markdown-разметкой с возможностью переключения между режимом редактирования и предпросмотром.
- Используется для **интерактивного ввода и редактирования** контента с разметкой (например, в формах, редакторах описаний, комментариев).
- Поддерживает **два режима работы**: режим редактирования (`defaultMode="edit"`) с текстовым полем и режим предпросмотра (`defaultMode="view"`) с отображением отформатированного результата.
- Позволяет **переключаться между режимами** через переключатель "Предпросмотр" в верхней части компонента.
- Интегрирован с компонентами полей (`FieldTextArea`, `FieldDecorator`) и поддерживает все стандартные возможности полей: лейбл, плейсхолдер, ошибки, подсказки, обязательность, изменение размера.
- Использует компонент `Markdown` для отображения предпросмотра, поэтому поддерживает те же возможности кастомизации и копирования кода.
- Figma: [`MarkdownEditor`](https://www.figma.com/design/jtGxAPvFJOMir7V0eQFukN/Snack-UI-Kit-5.0.0?node-id=1444-818).

### Example

```tsx
import { MarkdownEditor } from '@snack-uikit/markdown';
import { toaster } from '@snack-uikit/toaster';
import { useState } from 'react';

function Example() {
  const [value, setValue] = useState('# Заголовок\n\nТекст с **жирным** выделением.');

  return (
    <MarkdownEditor
      value={value}
      onChange={setValue}
      label="Описание"
      placeholder="Введите текст с Markdown-разметкой"
      required
      hint="Поддерживается Markdown-разметка"
      onCodeCopyClick={() => toaster.userAction.success({ label: 'Скопировано' })}
    />
  );
}
```

[//]: DOCUMENTATION_SECTION_START
[//]: THIS_SECTION_IS_AUTOGENERATED_PLEASE_DONT_EDIT_IT
## Markdown
### Props
| name | type | default value | description |
|------|------|---------------|-------------|
| value | `string` | - | Текст c разметкой |
| className | `string` | - | CSS-класс |
| components | `Partial<Omit<NormalComponents, keyof SpecialComponents> & SpecialComponents>` | {} | Переопределение компонентов по умолчанию и добавление новых в CodeEditor |
| onCopyClick | `() => void` | - | Действие при клике на кнопку копирования кода |
## MarkdownEditor
### Props
| name | type | default value | description |
|------|------|---------------|-------------|
| onChange* | `(newValue: string) => void` | - | Callback смены текста |
| value* | `string` | - | Текст c разметкой |
| defaultMode | enum Mode: `"view"`, `"edit"` | - | Начальное состояние редактора |
| className | `string` | - | CSS-класс |
| error | `string` | - | Текст ошибки для textarea |
| label | `string` | - | Лейбл для textarea |
| placeholder | `string` | - | Плейсхолдер для textarea |
| required | `boolean` | - | Является ли поле обязательным |
| resizable | `boolean` | - | Может ли ли пользователь изменять размеры поля (если св-во не включено, поле автоматически меняет свой размер) |
| onCodeCopyClick | `() => void` | - | Действие при клике на кнопку копирования кода |
| components | `Partial<Omit<NormalComponents, keyof SpecialComponents> & SpecialComponents>` | - | Переопределение компонентов по умолчанию и добавление новых в CodeEditor |
| caption | `string` | - | Подпись справа от лейбла |
| footer | `ReactNode` | - | Нода под футер |
| spellCheck | `boolean` | true | Включение проверки орфографии |
| labelTooltip | `ReactNode` | - | Всплывающая подсказка лейбла |
| hint | `string` | - | Подсказка внизу |
| labelTooltipPlacement | enum Placement: `"left"`, `"left-start"`, `"left-end"`, `"right"`, `"right-start"`, `"right-end"`, `"top"`, `"top-start"`, `"top-end"`, `"bottom"`, `"bottom-start"`, `"bottom-end"` | top | Расположение подсказки лейбла |


[//]: DOCUMENTATION_SECTION_END
